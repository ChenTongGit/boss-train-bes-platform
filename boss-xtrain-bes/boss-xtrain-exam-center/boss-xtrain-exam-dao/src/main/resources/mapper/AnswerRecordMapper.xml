<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.boss.xtrain.exam.dao.mapper.AnswerRecordMapper" >
  <resultMap id="BaseResultMap" type="com.boss.xtrain.exam.pojo.entity.AnswerRecord" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jul 07 17:49:29 CST 2020.
    -->
    <result column="id" property="id" jdbcType="BIGINT" />
    <result column="t_r_id" property="examRecordId" jdbcType="BIGINT" />
    <result column="my_answer" property="myAnswer" jdbcType="VARCHAR" />
    <result column="standard_answer" property="standardAnswer" jdbcType="VARCHAR" />
    <result column="t_s_id" property="paperSubjectId" jdbcType="BIGINT"/>
    <result column="score" property="score" jdbcType="DECIMAL" />
    <result column="evaluate" property="evaluate" jdbcType="VARCHAR" />
    <result column="status" property="status" jdbcType="TINYINT" />
    <result column="company_id" property="companyId" jdbcType="BIGINT" />
    <result column="org_id" property="organizationId" jdbcType="BIGINT" />
    <result column="created_by" property="createdBy" jdbcType="BIGINT" />
    <result column="created_time" property="createdTime" jdbcType="TIMESTAMP" />
    <result column="updated_by" property="updatedBy" jdbcType="BIGINT" />
    <result column="updated_time" property="updatedTime" jdbcType="TIMESTAMP" />
    <result column="version" property="version" jdbcType="BIGINT" />
  </resultMap>


  <insert id="insertBatch" parameterType="list">
    INSERT INTO t_exam_answer_record(id, t_r_id, my_answer, standard_answer
    ,score,t_s_id, evaluate, org_id, company_id, created_by, created_time, updated_by, updated_time, version, status)
    VALUES
    <foreach collection="ansList" item="entity" index="index" separator=",">
      (
      #{entity.id},
      #{entity.examRecordId},
      #{entity.myAnswer},
      #{entity.standardAnswer},
      #{entity.score},
      #{entity.paperSubjectId},
      #{entity.evaluate},
      #{entity.organizationId},
      #{entity.companyId},
      #{entity.createdBy},
      #{entity.createdTime},
      #{entity.updatedBy},
      #{entity.updatedTime},
      #{entity.version},
      #{entity.status}
      )
    </foreach>
  </insert>

  <!--保存批卷记录-->
  <update id="updateEvaluate" parameterType="com.boss.xtrain.exam.pojo.entity.AnswerRecord">
        UPDATE t_answer_record
        SET score        = #{answerRecord.score},
            evaluate     = #{answerRecord.evaluate},
            company_id   = #{answerRecord.companyId},
            updated_by   = #{answerRecord.updatedBy},
            updated_time = #{answerRecord.updatedTime},
            version      = #{answerRecord.version}
        WHERE id = #{answerRecord.id}
    </update>
</mapper>